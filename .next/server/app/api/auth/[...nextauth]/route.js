"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=H%3A%5Cwebsite%5CMidcProperty%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=H%3A%5Cwebsite%5CMidcProperty&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=H%3A%5Cwebsite%5CMidcProperty%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=H%3A%5Cwebsite%5CMidcProperty&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var H_website_MidcProperty_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"H:\\\\website\\\\MidcProperty\\\\src\\\\app\\\\api\\\\auth\\\\[...nextauth]\\\\route.ts\",\n    nextConfigOutput,\n    userland: H_website_MidcProperty_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/[...nextauth]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj1IJTNBJTVDd2Vic2l0ZSU1Q01pZGNQcm9wZXJ0eSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9SCUzQSU1Q3dlYnNpdGUlNUNNaWRjUHJvcGVydHkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN1QjtBQUNwRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL21pZGMtcHJvcGVydHkvPzI0ZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiSDpcXFxcd2Vic2l0ZVxcXFxNaWRjUHJvcGVydHlcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxbLi4ubmV4dGF1dGhdXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJIOlxcXFx3ZWJzaXRlXFxcXE1pZGNQcm9wZXJ0eVxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF1cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=H%3A%5Cwebsite%5CMidcProperty%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=H%3A%5Cwebsite%5CMidcProperty&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/next-auth/providers/google.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n// Connect to MongoDB\nconst connectDB = async ()=>{\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_3___default().connections)[0].readyState) return;\n    await mongoose__WEBPACK_IMPORTED_MODULE_3___default().connect(process.env.MONGODB_URI);\n};\n// User Schema\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_3___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    role: {\n        type: String,\n        enum: [\n            \"user\",\n            \"admin\"\n        ],\n        default: \"user\"\n    },\n    phoneNumber: {\n        type: String\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n});\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_3___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_3___default().model(\"User\", userSchema);\n// OTP Schema\nconst otpSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_3___default().Schema)({\n    phoneNumber: {\n        type: String,\n        required: true\n    },\n    otp: {\n        type: String,\n        required: true\n    },\n    verified: {\n        type: Boolean,\n        default: false\n    },\n    expiresAt: {\n        type: Date,\n        required: true\n    }\n});\nconst OTP = (mongoose__WEBPACK_IMPORTED_MODULE_3___default().models).OTP || mongoose__WEBPACK_IMPORTED_MODULE_3___default().model(\"OTP\", otpSchema);\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.GOOGLE_CLIENT_ID,\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\",\n                    placeholder: \"email@example.com\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    await connectDB();\n                    // Find user\n                    const user = await User.findOne({\n                        email: credentials.email\n                    });\n                    if (!user) {\n                        return null;\n                    }\n                    // Check password\n                    const isValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_4___default().compare(credentials.password, user.password);\n                    if (!isValid) {\n                        return null;\n                    }\n                    // Return user without password\n                    const { password: _, ...userWithoutPassword } = user.toObject();\n                    return userWithoutPassword;\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            id: \"phone-otp\",\n            name: \"Phone OTP\",\n            credentials: {\n                phoneNumber: {\n                    label: \"Phone Number\",\n                    type: \"tel\",\n                    placeholder: \"+91 98765 43210\"\n                },\n                otp: {\n                    label: \"OTP\",\n                    type: \"text\",\n                    placeholder: \"123456\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.phoneNumber || !credentials?.otp) {\n                    return null;\n                }\n                try {\n                    await connectDB();\n                    // Verify OTP\n                    const otpDoc = await OTP.findOne({\n                        phoneNumber: credentials.phoneNumber,\n                        otp: credentials.otp,\n                        verified: false,\n                        expiresAt: {\n                            $gt: new Date()\n                        }\n                    }).sort({\n                        createdAt: -1\n                    });\n                    if (!otpDoc) {\n                        return null;\n                    }\n                    // Mark OTP as verified\n                    otpDoc.verified = true;\n                    await otpDoc.save();\n                    // Find or create user\n                    let user = await User.findOne({\n                        phoneNumber: credentials.phoneNumber\n                    });\n                    if (!user) {\n                        user = await User.create({\n                            phoneNumber: credentials.phoneNumber,\n                            name: `User${Math.random().toString(36).slice(2, 8)}`,\n                            email: `${Math.random().toString(36).slice(2, 8)}@placeholder.com`,\n                            password: await bcryptjs__WEBPACK_IMPORTED_MODULE_4___default().hash(Math.random().toString(36), 10)\n                        });\n                    }\n                    return user.toObject();\n                } catch (error) {\n                    console.error(\"Phone auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/auth/signin\",\n        error: \"/auth/error\"\n    },\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60,\n        updateAge: 24 * 60 * 60\n    },\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.role = user.role;\n                token.id = user._id;\n                if (account?.provider === \"google\") {\n                    token.provider = \"google\";\n                } else if (account?.provider === \"phone-otp\") {\n                    token.provider = \"phone\";\n                    token.phoneNumber = user.phoneNumber;\n                }\n                // Add timestamp for token refresh\n                token.createdAt = Date.now();\n            }\n            // Check if token needs refresh (e.g., every 24 hours)\n            if (token.createdAt && Date.now() - token.createdAt > 24 * 60 * 60 * 1000) {\n                try {\n                    // Refresh user data from database\n                    await connectDB();\n                    const updatedUser = await User.findById(token.id).select(\"-password\");\n                    if (updatedUser) {\n                        token.role = updatedUser.role;\n                        token.createdAt = Date.now();\n                    }\n                } catch (error) {\n                    console.error(\"Error refreshing token:\", error);\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (session.user) {\n                session.user.role = token.role;\n                session.user.id = token.id;\n                session.user.provider = token.provider;\n                if (token.provider === \"phone\") {\n                    session.user.phoneNumber = token.phoneNumber;\n                }\n                // Add session expiry\n                session.expires = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString();\n            }\n            return session;\n        }\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\nconst handler = (0,next_auth_next__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNrRTtBQUNWO0FBQ2xCO0FBRU47QUFDRjtBQUU5QixxQkFBcUI7QUFDckIsTUFBTUssWUFBWTtJQUNoQixJQUFJRiw2REFBb0IsQ0FBQyxFQUFFLENBQUNJLFVBQVUsRUFBRTtJQUN4QyxNQUFNSix1REFBZ0IsQ0FBQ00sUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQ2hEO0FBRUEsY0FBYztBQUNkLE1BQU1DLGFBQWEsSUFBSVQsd0RBQWUsQ0FBQztJQUNyQ1csTUFBTTtRQUFFQyxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDckNDLE9BQU87UUFBRUgsTUFBTUM7UUFBUUMsVUFBVTtRQUFNRSxRQUFRO0lBQUs7SUFDcERDLFVBQVU7UUFBRUwsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3pDSSxNQUFNO1FBQUVOLE1BQU1DO1FBQVFNLE1BQU07WUFBQztZQUFRO1NBQVE7UUFBRUMsU0FBUztJQUFPO0lBQy9EQyxhQUFhO1FBQUVULE1BQU1DO0lBQU87SUFDNUJTLFdBQVc7UUFBRVYsTUFBTVc7UUFBTUgsU0FBU0csS0FBS0MsR0FBRztJQUFDO0lBQzNDQyxXQUFXO1FBQUViLE1BQU1XO1FBQU1ILFNBQVNHLEtBQUtDLEdBQUc7SUFBQztBQUM3QztBQUVBLE1BQU1FLE9BQU8xQix3REFBZSxDQUFDMEIsSUFBSSxJQUFJMUIscURBQWMsQ0FBQyxRQUFRUztBQUU1RCxhQUFhO0FBQ2IsTUFBTW9CLFlBQVksSUFBSTdCLHdEQUFlLENBQUM7SUFDcENxQixhQUFhO1FBQUVULE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUM1Q2dCLEtBQUs7UUFBRWxCLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNwQ2lCLFVBQVU7UUFBRW5CLE1BQU1vQjtRQUFTWixTQUFTO0lBQU07SUFDMUNhLFdBQVc7UUFBRXJCLE1BQU1XO1FBQU1ULFVBQVU7SUFB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QUFRLENBQUNMLE1BQU1uQixFQUFFLEVBQUV5QixNQUFNLENBQUM7b0JBQ3pELElBQUlGLGFBQWE7d0JBQ2ZKLE1BQU12RCxJQUFJLEdBQUcyRCxZQUFZM0QsSUFBSTt3QkFDN0J1RCxNQUFNbkQsU0FBUyxHQUFHQyxLQUFLQyxHQUFHO29CQUM1QjtnQkFDRixFQUFFLE9BQU80QixPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtnQkFDM0M7WUFDRjtZQUNBLE9BQU9xQjtRQUNUO1FBQ0EsTUFBTU4sU0FBUSxFQUFFQSxPQUFPLEVBQUVNLEtBQUssRUFBZ0M7WUFDNUQsSUFBSU4sUUFBUXRCLElBQUksRUFBRTtnQkFDaEJzQixRQUFRdEIsSUFBSSxDQUFDM0IsSUFBSSxHQUFHdUQsTUFBTXZELElBQUk7Z0JBQzlCaUQsUUFBUXRCLElBQUksQ0FBQ1MsRUFBRSxHQUFHbUIsTUFBTW5CLEVBQUU7Z0JBQzFCYSxRQUFRdEIsSUFBSSxDQUFDK0IsUUFBUSxHQUFHSCxNQUFNRyxRQUFRO2dCQUN0QyxJQUFJSCxNQUFNRyxRQUFRLEtBQUssU0FBUztvQkFDOUJULFFBQVF0QixJQUFJLENBQUN4QixXQUFXLEdBQUdvRCxNQUFNcEQsV0FBVztnQkFDOUM7Z0JBQ0EscUJBQXFCO2dCQUNyQjhDLFFBQVFhLE9BQU8sR0FBRyxJQUFJekQsS0FDcEJBLEtBQUtDLEdBQUcsS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQ2pDeUQsV0FBVztZQUNmO1lBQ0EsT0FBT2Q7UUFDVDtJQUNGO0lBQ0FlLFFBQVE1RSxRQUFRQyxHQUFHLENBQUM0RSxlQUFlO0FBQ3JDLEVBQUM7QUFFRCxNQUFNQyxVQUFVckYsMERBQVFBLENBQUNvQztBQUNrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21pZGMtcHJvcGVydHkvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHM/MDA5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBHb29nbGVQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZSc7XG5pbXBvcnQgTmV4dEF1dGggZnJvbSAnbmV4dC1hdXRoL25leHQnO1xuaW1wb3J0IHsgSldUIH0gZnJvbSAnbmV4dC1hdXRoL2p3dCc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5cbi8vIENvbm5lY3QgdG8gTW9uZ29EQlxuY29uc3QgY29ubmVjdERCID0gYXN5bmMgKCkgPT4ge1xuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkgcmV0dXJuO1xuICBhd2FpdCBtb25nb29zZS5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJISk7XG59O1xuXG4vLyBVc2VyIFNjaGVtYVxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgcm9sZTogeyB0eXBlOiBTdHJpbmcsIGVudW06IFsndXNlcicsICdhZG1pbiddLCBkZWZhdWx0OiAndXNlcicgfSxcbiAgcGhvbmVOdW1iZXI6IHsgdHlwZTogU3RyaW5nIH0sXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxuICB1cGRhdGVkQXQ6IHsgdHlwZTogRGF0ZSwgZGVmYXVsdDogRGF0ZS5ub3cgfVxufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG4vLyBPVFAgU2NoZW1hXG5jb25zdCBvdHBTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgcGhvbmVOdW1iZXI6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICBvdHA6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICB2ZXJpZmllZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICBleHBpcmVzQXQ6IHsgdHlwZTogRGF0ZSwgcmVxdWlyZWQ6IHRydWUgfVxufSk7XG5cbmNvbnN0IE9UUCA9IG1vbmdvb3NlLm1vZGVscy5PVFAgfHwgbW9uZ29vc2UubW9kZWwoJ09UUCcsIG90cFNjaGVtYSk7XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogQXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEISxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQhLFxuICAgIH0pLFxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiBcIkVtYWlsXCIsIHR5cGU6IFwiZW1haWxcIiwgcGxhY2Vob2xkZXI6IFwiZW1haWxAZXhhbXBsZS5jb21cIiB9LFxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGNvbm5lY3REQigpO1xuXG4gICAgICAgICAgLy8gRmluZCB1c2VyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IGVtYWlsOiBjcmVkZW50aWFscy5lbWFpbCB9KTtcbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENoZWNrIHBhc3N3b3JkXG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKGNyZWRlbnRpYWxzLnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJldHVybiB1c2VyIHdpdGhvdXQgcGFzc3dvcmRcbiAgICAgICAgICBjb25zdCB7IHBhc3N3b3JkOiBfLCAuLi51c2VyV2l0aG91dFBhc3N3b3JkIH0gPSB1c2VyLnRvT2JqZWN0KCk7XG4gICAgICAgICAgcmV0dXJuIHVzZXJXaXRob3V0UGFzc3dvcmQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIGlkOiBcInBob25lLW90cFwiLFxuICAgICAgbmFtZTogXCJQaG9uZSBPVFBcIixcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIHBob25lTnVtYmVyOiB7IGxhYmVsOiBcIlBob25lIE51bWJlclwiLCB0eXBlOiBcInRlbFwiLCBwbGFjZWhvbGRlcjogXCIrOTEgOTg3NjUgNDMyMTBcIiB9LFxuICAgICAgICBvdHA6IHsgbGFiZWw6IFwiT1RQXCIsIHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCIxMjM0NTZcIiB9XG4gICAgICB9LFxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHM/LnBob25lTnVtYmVyIHx8ICFjcmVkZW50aWFscz8ub3RwKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGNvbm5lY3REQigpO1xuXG4gICAgICAgICAgLy8gVmVyaWZ5IE9UUFxuICAgICAgICAgIGNvbnN0IG90cERvYyA9IGF3YWl0IE9UUC5maW5kT25lKHtcbiAgICAgICAgICAgIHBob25lTnVtYmVyOiBjcmVkZW50aWFscy5waG9uZU51bWJlcixcbiAgICAgICAgICAgIG90cDogY3JlZGVudGlhbHMub3RwLFxuICAgICAgICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZXhwaXJlc0F0OiB7ICRndDogbmV3IERhdGUoKSB9XG4gICAgICAgICAgfSkuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG5cbiAgICAgICAgICBpZiAoIW90cERvYykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTWFyayBPVFAgYXMgdmVyaWZpZWRcbiAgICAgICAgICBvdHBEb2MudmVyaWZpZWQgPSB0cnVlO1xuICAgICAgICAgIGF3YWl0IG90cERvYy5zYXZlKCk7XG5cbiAgICAgICAgICAvLyBGaW5kIG9yIGNyZWF0ZSB1c2VyXG4gICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBwaG9uZU51bWJlcjogY3JlZGVudGlhbHMucGhvbmVOdW1iZXIgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB1c2VyID0gYXdhaXQgVXNlci5jcmVhdGUoe1xuICAgICAgICAgICAgICBwaG9uZU51bWJlcjogY3JlZGVudGlhbHMucGhvbmVOdW1iZXIsXG4gICAgICAgICAgICAgIG5hbWU6IGBVc2VyJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KX1gLFxuICAgICAgICAgICAgICBlbWFpbDogYCR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgOCl9QHBsYWNlaG9sZGVyLmNvbWAsXG4gICAgICAgICAgICAgIHBhc3N3b3JkOiBhd2FpdCBiY3J5cHQuaGFzaChNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KSwgMTApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdXNlci50b09iamVjdCgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Bob25lIGF1dGggZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgXSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46ICcvYXV0aC9zaWduaW4nLFxuICAgIGVycm9yOiAnL2F1dGgvZXJyb3InXG4gIH0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCcsXG4gICAgbWF4QWdlOiAzMCAqIDI0ICogNjAgKiA2MCwgLy8gMzAgZGF5c1xuICAgIHVwZGF0ZUFnZTogMjQgKiA2MCAqIDYwLCAvLyAyNCBob3Vyc1xuICB9LFxuICBjYWxsYmFja3M6IHtcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCB9OiB7IHRva2VuOiBKV1QsIHVzZXI6IGFueSwgYWNjb3VudDogYW55IH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5faWQ7XG4gICAgICAgIGlmIChhY2NvdW50Py5wcm92aWRlciA9PT0gJ2dvb2dsZScpIHtcbiAgICAgICAgICB0b2tlbi5wcm92aWRlciA9ICdnb29nbGUnO1xuICAgICAgICB9IGVsc2UgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSAncGhvbmUtb3RwJykge1xuICAgICAgICAgIHRva2VuLnByb3ZpZGVyID0gJ3Bob25lJztcbiAgICAgICAgICB0b2tlbi5waG9uZU51bWJlciA9IHVzZXIucGhvbmVOdW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRpbWVzdGFtcCBmb3IgdG9rZW4gcmVmcmVzaFxuICAgICAgICB0b2tlbi5jcmVhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgaWYgdG9rZW4gbmVlZHMgcmVmcmVzaCAoZS5nLiwgZXZlcnkgMjQgaG91cnMpXG4gICAgICBpZiAodG9rZW4uY3JlYXRlZEF0ICYmIChEYXRlLm5vdygpIC0gKHRva2VuLmNyZWF0ZWRBdCBhcyBudW1iZXIpID4gMjQgKiA2MCAqIDYwICogMTAwMCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBSZWZyZXNoIHVzZXIgZGF0YSBmcm9tIGRhdGFiYXNlXG4gICAgICAgICAgYXdhaXQgY29ubmVjdERCKCk7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlkKHRva2VuLmlkKS5zZWxlY3QoJy1wYXNzd29yZCcpO1xuICAgICAgICAgIGlmICh1cGRhdGVkVXNlcikge1xuICAgICAgICAgICAgdG9rZW4ucm9sZSA9IHVwZGF0ZWRVc2VyLnJvbGU7XG4gICAgICAgICAgICB0b2tlbi5jcmVhdGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWZyZXNoaW5nIHRva2VuOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH06IHsgc2Vzc2lvbjogYW55LCB0b2tlbjogSldUIH0pIHtcbiAgICAgIGlmIChzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLnJvbGUgPSB0b2tlbi5yb2xlO1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZDtcbiAgICAgICAgc2Vzc2lvbi51c2VyLnByb3ZpZGVyID0gdG9rZW4ucHJvdmlkZXI7XG4gICAgICAgIGlmICh0b2tlbi5wcm92aWRlciA9PT0gJ3Bob25lJykge1xuICAgICAgICAgIHNlc3Npb24udXNlci5waG9uZU51bWJlciA9IHRva2VuLnBob25lTnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBzZXNzaW9uIGV4cGlyeVxuICAgICAgICBzZXNzaW9uLmV4cGlyZXMgPSBuZXcgRGF0ZShcbiAgICAgICAgICBEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwXG4gICAgICAgICkudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH1cbiAgfSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVRcbn1cblxuY29uc3QgaGFuZGxlciA9IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcbmV4cG9ydCB7IGhhbmRsZXIgYXMgR0VULCBoYW5kbGVyIGFzIFBPU1QgfTtcbiJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiR29vZ2xlUHJvdmlkZXIiLCJOZXh0QXV0aCIsIm1vbmdvb3NlIiwiYmNyeXB0IiwiY29ubmVjdERCIiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsInJvbGUiLCJlbnVtIiwiZGVmYXVsdCIsInBob25lTnVtYmVyIiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm5vdyIsInVwZGF0ZWRBdCIsIlVzZXIiLCJtb2RlbHMiLCJtb2RlbCIsIm90cFNjaGVtYSIsIm90cCIsInZlcmlmaWVkIiwiQm9vbGVhbiIsImV4cGlyZXNBdCIsIk9UUCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJHT09HTEVfQ0xJRU5UX0lEIiwiY2xpZW50U2VjcmV0IiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiLCJjcmVkZW50aWFscyIsImxhYmVsIiwicGxhY2Vob2xkZXIiLCJhdXRob3JpemUiLCJ1c2VyIiwiZmluZE9uZSIsImlzVmFsaWQiLCJjb21wYXJlIiwiXyIsInVzZXJXaXRob3V0UGFzc3dvcmQiLCJ0b09iamVjdCIsImVycm9yIiwiY29uc29sZSIsImlkIiwib3RwRG9jIiwiJGd0Iiwic29ydCIsInNhdmUiLCJjcmVhdGUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsImhhc2giLCJwYWdlcyIsInNpZ25JbiIsInNlc3Npb24iLCJzdHJhdGVneSIsIm1heEFnZSIsInVwZGF0ZUFnZSIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwiYWNjb3VudCIsIl9pZCIsInByb3ZpZGVyIiwidXBkYXRlZFVzZXIiLCJmaW5kQnlJZCIsInNlbGVjdCIsImV4cGlyZXMiLCJ0b0lTT1N0cmluZyIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCIsImhhbmRsZXIiLCJHRVQiLCJQT1NUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/oauth","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/oidc-token-hash","vendor-chunks/bcryptjs","vendor-chunks/preact","vendor-chunks/object-hash","vendor-chunks/lru-cache","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=H%3A%5Cwebsite%5CMidcProperty%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=H%3A%5Cwebsite%5CMidcProperty&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();